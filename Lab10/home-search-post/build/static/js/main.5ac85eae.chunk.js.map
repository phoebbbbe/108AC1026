{"version":3,"sources":["components/Title.js","components/MySidebar.js","Layout.js","pages/Home.js","pages/Search.js","pages/NoMatch.js","firebase.js","pages/Post.js","App.js","index.js"],"names":["Title","react_default","a","createElement","class","className","MySidebar","id","index_es","routerLink","react_router_dom_dist","to","Layout","components_Title","components_MySidebar","dist","Home","Search","_useSearchParams","useSearchParams","_useSearchParams2","Object","slicedToArray","searchParams","navigate","useNavigate","get","onSubmit","event","targets","target","type","value","name","NoMatch","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","getDatabase","Post","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getPosts","db","recentPostsRef","query","ref","onValue","snapshot","newPosts","forEach","childSnapshot","key","childData","child","val","push","setState","posts","onlyOnce","handleChange","e","_e$target","state","post","handleSubmit","obj","updates","update","render","preventDefault","inherits","createClass","listPosts","map","onChange","React","Component","App","path","element","src_Layout","index","pages_Home","pages_Search","pages_Post","pages_NoMatch","ReactDOM","createRoot","document","getElementById","StrictMode","src_App"],"mappings":"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","file":"static/js/main.5ac85eae.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Title() {\n  return (\n    <nav class=\"bg-dark navbar-dark navbar\">\n      <div className=\"row col-12 d-flex justify-content-center text-white\">\n        <h3>Welcom to NTUT Web Programming</h3>\n      </div>\n    </nav>\n  );\n}\n\nexport default Title;\n","import React from \"react\";\nimport { Sidebar, Menu, MenuItem } from \"react-pro-sidebar\";\nimport { Link } from \"react-router-dom\";\n\nfunction MySidebar() {\n  return (\n    <div id=\"header\">\n      <Sidebar>\n        <Menu>\n          <MenuItem routerLink={<Link to=\"/\" />}> Home </MenuItem>\n          <MenuItem routerLink={<Link to=\"/search\" />}> Search </MenuItem>\n          <MenuItem routerLink={<Link to=\"/post\" />}> Post </MenuItem>\n        </Menu>\n      </Sidebar>\n    </div>\n  );\n}\n\nexport default MySidebar;\n","import { Outlet } from \"react-router-dom\";\nimport React from \"react\";\nimport Title from \"./components/Title\";\nimport MySidebar from \"./components/MySidebar\";\n\nfunction Layout() {\n  return (\n    <div>\n      <Title />\n      <MySidebar />\n      <Outlet />\n    </div>\n  );\n}\n\nexport default Layout;\n","import React from \"react\";\n\nfunction Home() {\n  return (\n    <div>\n      <br />\n      <h1>This is Home!</h1>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\n\nfunction Search() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const handleSubmit = (event) => {\n    const targets = event.target;\n    const value = targets.type === \"text\" ? targets.value : null;\n    const name = targets.name;\n\n    navigate(\"/search\");\n  };\n\n  return (\n    <div>\n      <h2>Your search term: {searchParams.get(\"q\")}</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Search:\n          <input name=\"q\" />\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  );\n}\n\nexport default Search;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction NoMatch() {\n  return (\n    <div>\n      <h2> Nothing to see here!</h2>\n      <p>\n        <Link to=\"/\">Go to home page</Link>\n      </p>\n    </div>\n  );\n}\nexport default NoMatch;\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\nimport { getDatabase } from \"firebase/database\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAEUyKTf2EmzwqjCYkQoYw5wrZ56ksH20w\",\n  authDomain: \"ntut-web-by-108ac1026-001.firebaseapp.com\",\n  databaseURL:\n    \"https://ntut-web-by-108ac1026-001-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"ntut-web-by-108ac1026-001\",\n  storageBucket: \"ntut-web-by-108ac1026-001.appspot.com\",\n  messagingSenderId: \"986757797850\",\n  appId: \"1:986757797850:web:5502e14f61fb05c7f012e3\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const database = getDatabase(app);\n","import React, { useState } from \"react\";\nimport { database } from \"../firebase\";\nimport {\n  ref,\n  push,\n  child,\n  update,\n  query,\n  onValue,\n  getDatabase,\n} from \"firebase/database\";\n\nfunction ListItem(props) {\n  return <li>{props.post}</li>;\n}\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      posts: [],\n      // date: new Date()\n    };\n  }\n\n  /* TODO: finish this method */\n  getPosts = () => {\n    const db = getDatabase();\n    // const auth = getAuth();\n    // const myUserId = auth.currentUser.uid;\n    const recentPostsRef = query(\n      ref(db, \"posts\")\n    ); /* TODO: use the query() method */\n    onValue(\n      recentPostsRef,\n      (snapshot) => {\n        let newPosts = [];\n        snapshot.forEach((childSnapshot) => {\n          // console.log(childSnapshot);\n          // const key = childSnapshot.key;\n          const childKey = childSnapshot.key;\n          const childData = childSnapshot.child(\"post\").val();\n          newPosts.push((childKey, childData));\n          /* TODO: parse the childSnapshot and use newPosts.push() to store the key and the post pair. You can use console.log() first to see what childSnapshot looks like. */\n        });\n\n        // Save the newPosts to the state var.\n        this.setState({ posts: newPosts });\n      },\n      {\n        // We only need to fetch once\n        onlyOnce: true,\n      }\n    );\n  };\n\n  componentDidMount() {\n    /* TODO: call the method to get posts */\n    this.getPosts();\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    if (name == \"post\") {\n      this.state.post = value;\n    }\n  };\n\n  handleSubmit = (e) => {\n    let obj = {\n      post: this.state.post,\n    };\n    // Create a unique key for new posts\n    const newPostKey = push(child(ref(database), \"posts\")).key;\n    const updates = {};\n    updates[\"/posts/\" + newPostKey] = obj;\n    update(ref(database), updates);\n\n    /* TODO: call the method to get the posts */\n    var posts = this.getPosts();\n    this.render();\n    e.preventDefault();\n  };\n\n  render() {\n    const listPosts = this.state.posts.map((post) => <li>{post}</li>);\n    /* TODO: convert this.state.posts into a list of <ListItem>. Remember to set the key and the post props */\n\n    return (\n      <div>\n        <ul>{listPosts}</ul>\n        <h2>Submit your post!</h2>\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            New post:\n            <input name=\"post\" onChange={this.handleChange} />\n          </label>\n          <input type=\"submit\" value=\"Post!\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Post;\n","import \"./App.css\";\nimport React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Layout from \"./Layout\";\nimport Home from \"./pages/Home\";\nimport Search from \"./pages/Search\";\nimport NoMatch from \"./pages/NoMatch\";\nimport Post from \"./pages/Post\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route index element={<Home />} />\n          <Route path=\"search\" element={<Search />} />\n          <Route path=\"post\" element={<Post />} />\n          <Route path=\"*\" element={<NoMatch />} />\n        </Route>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ProSidebarProvider } from \"react-pro-sidebar\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <ProSidebarProvider>\n        <App />\n      </ProSidebarProvider>\n    </BrowserRouter>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}